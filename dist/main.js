!function(e){var t={};function n(l){if(t[l])return t[l].exports;var r=t[l]={i:l,l:!1,exports:{}};return e[l].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(l,r,function(t){return e[t]}.bind(null,r));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var l=()=>{const e=document.querySelector(".menu-button"),t=document.documentElement.clientWidth,n=document.querySelector(".top-menu"),l=document.querySelector(".popup-menu");t<768&&(e.style="display: block",e.previousElementSibling.style="display: none",window.addEventListener("scroll",()=>{window.pageYOffset>237?n.style="position: fixed":n.style="position: relative"})),e.addEventListener("click",()=>{l.style="display: flex"}),l.addEventListener("click",e=>{e.target.matches("img, a")&&(l.style="display: none")})};var r=()=>{const e=document.querySelector(".gallery-slider"),t=e.querySelectorAll(".slide"),n=document.querySelector(".main-slider").children;let l,r=document.querySelectorAll(".dot"),o=0;t.forEach(e=>{e.style="display: none"}),t[0].style="display: flex";const s=(e,t,n)=>{"LI"===e[t].tagName?e[t].classList.remove("slick-active"):e[t].style=n},i=(e,t,n)=>{"LI"===e[t].tagName?e[t].classList.add("slick-active"):e[t].style=n},a=()=>{s(t,o,"display: none"),s(n,o,"display: none"),s(r,o),o++,o>=t.length&&(o=0),i(t,o,"display: flex"),i(n,o,"display: flex"),i(r,o)},c=(e=3e3)=>{l=setInterval(a,e)};e.addEventListener("click",e=>{e.preventDefault();let n=e.target;n.matches("#right, #left, button, #arrow-right, #arrow-left")&&(s(t,o,"display: none"),s(r,o),n.matches("#right, #arrow-right")?o++:n.matches("#left, #arrow-left")?o--:n.matches("button, .dot")&&r.forEach((e,t)=>{e===n.closest(".dot")&&(o=t)}),o>=t.length&&(o=0),o<0&&(o=t.length-1),i(t,o,"display: flex"),i(r,o))}),e.addEventListener("mouseover",e=>{(e.target.matches("#left, #right, .slider-arrow")||e.target.matches("button, .dot"))&&clearInterval(l)}),e.addEventListener("mouseout",e=>{(e.target.matches("#left, #right, .slider-arrow")||e.target.matches("button, .dot"))&&c()}),c()};var o=()=>{const e=document.querySelectorAll("form"),t=document.createElement("div");t.style.cssText="font-size: 1rem; color: #ffd11a; display: block; margin:auto";const n=document.getElementById("thanks");e.forEach(e=>{const r=()=>{e.closest(".popup")&&(e.closest(".popup").style="display: none")};let o=e.querySelector('input[type="checkbox"]');e.addEventListener("submit",s=>{if(s.preventDefault(),"footer_form"===e.id||o.checked||(e.after(t),t.textContent="Дайте согласие на обработку данных"),"footer_form"===e.id||o.checked){e.after(t),t.textContent="Идет отправка...";const o=new FormData(e);let s={};o.forEach((e,t)=>{s[t]=e}),l(s).then(e=>{if(200!==e.status)throw new Error("Status network is not 200");n.style="display: block",t.textContent="",r()}).catch(e=>{n.querySelector("p").innerHTML="Извините. \n                        <br> Что-то пошло не так.",n.style="display: block",t.textContent="",r(),console.error(e)}).finally(()=>{setTimeout(()=>{n.style="display: none",r(),t.textContent=""},3e3)})}})});const l=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};var s=()=>{const e=document.getElementById("card_order"),t=e.querySelectorAll('input[type="radio"]'),n=e.querySelector(".price-message input");let l=document.getElementById("price-total");const r=[0,3e3,6e3,9e3,12e3];let o=l.textContent;n.addEventListener("input",e=>{"ТЕЛО2019"===e.target.value&&(l=document.getElementById("price-total"),l.textContent=.7*l.textContent,t.forEach((e,t,n)=>{e.addEventListener("change",t=>{if(o=document.getElementById("price-total").textContent,n[4].checked){if("card_leto_mozaika"===t.target.id)return l.textContent=.7*(o-2e3);l.textContent=.7*+r[e.id.slice(1)]}if(n[5].checked){if("card_leto_schelkovo"===t.target.id)return l.textContent=.7*(+o+2e3);l.textContent=Math.floor(.7*(+r[e.id.slice(1)]+2e3))}})}))}),t.forEach((e,t,n)=>{e.addEventListener("change",t=>{if(n[4].checked){let n=l.textContent;if("card_leto_mozaika"===t.target.id)return l.textContent=n-2e3;l.textContent=+r[e.id.slice(1)]}if(n[5].checked){let n=l.textContent;if("card_leto_schelkovo"===t.target.id)return l.textContent=+n+2e3;l.textContent=+r[e.id.slice(1)]+2e3}})})};var i=()=>{document.querySelectorAll(".popup").forEach(e=>{e.addEventListener("click",t=>{let n=t.target;"gift"===e.id&&n.matches(".overlay, .close-btn, img")&&(e.style="display: none"),n.matches("img, .overlay")&&(e.style="display: none"),"thanks"===e.id&&n.matches("img, .overlay, .close-btn")&&(e.style="display: none")})})};var a=()=>{const e=document.querySelectorAll('input[name = "phone"]'),t=document.querySelectorAll('input[name = "name"]');e.forEach(e=>{maskPhone("#"+e.id)}),t.forEach(e=>{e.addEventListener("input",()=>{"Промокод"===e.placeholder?e.value=e.value.match(/[А-Яа-я\s\d]*$/):e.value=e.value.match(/[А-Яа-я\s]*$/)})})};var c=(e=223)=>{const t=document.querySelectorAll(".services-slider .slide"),n=document.querySelector(".services-slider"),l=document.querySelector("#services .wrapper"),r=e*(t.length-5);let o=0,s=document.querySelector("#services .wrapper h2");t.forEach((e,t)=>{e.style.cssText=0===t?"\n                -webkit-transition: .2s linear;\n                -moz-transition: .2s linear;\n                -o-transition: .2s linear;\n                transition: .2s linear;\n                min-width: 210px;\n            ":"min-width: 210px;"}),l.style.cssText="max-width: 1150px",document.getElementById("services").insertAdjacentHTML("afterbegin",s.outerHTML),s.remove(),n.style.cssText="\n        position: relative;\n        overflow-x: hidden;\n    ",n.insertAdjacentHTML("beforeEnd",'\n                <div class="slider-arrow next"><span><i class="fa fa-angle-right"></i></span></div>\n                <div class="slider-arrow prev"><span><i class="fa fa-angle-left"></i></span></div>\n            ');const i=e=>{o+=+e,o<=6?(o=4,t[0].style.marginLeft=`-${o}px`,o=0):o>=r&&(o=r,t[0].style.marginLeft=`-${o}px`),t[0].style.marginLeft=`-${o}px`};n.addEventListener("click",t=>{let n=t.target;t.preventDefault(),n.closest(".next")&&i(e),n.closest(".prev")&&i(-e)})};(()=>{const e=document.querySelector(".head"),t=document.getElementById("callback_form"),n=document.getElementById("free_visit_form"),l=document.getElementById("gift"),r=document.getElementById("totop"),o=document.querySelector(".fixed-gift"),s=document.querySelector("ul");e.addEventListener("click",e=>{let l,r,o;l=r=o=e.target,l=l.closest(".clubs-list"),l&&(s.style.display="block"!==s.style.display?"block":"none"),null===l&&(s.style="display: none"),r=r.closest(".callback-btn"),r&&(t.style="display: flex"),o=o.closest(".free-visit"),o&&(n.style="display: flex;")}),r.style="display: none",window.addEventListener("scroll",()=>{window.pageYOffset>700?r.style="display: block":r.style="display: none"}),o.addEventListener("click",()=>{l.style="display: flex;",o.style="display: none"})})(),i(),r(),o(),l(),s(),a(),c()}]);