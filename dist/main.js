!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=()=>{const e=document.querySelector(".menu-button"),t=document.documentElement.clientWidth,n=document.querySelector(".top-menu"),o=document.querySelector(".popup-menu");t<768&&(e.style="display: block",e.previousElementSibling.style="display: none",window.addEventListener("scroll",()=>{window.pageYOffset>237?n.style="position: fixed":n.style="position: relative"})),e.addEventListener("click",()=>{o.style="display: flex"}),o.addEventListener("click",e=>{e.target.matches("img, a")&&(o.style="display: none")})};var l=()=>{const e=document.querySelector(".main-slider").children;let t,n=0;console.log(e);const o=()=>{var t;t="display: none",e[n].style=t,n++,n>=e.length&&(n=0),((e,t,n)=>{e[t].style=n})(e,n,"display: flex")};((e=3e3)=>{t=setInterval(o,e)})()};var r=()=>{const e=document.querySelectorAll("form"),t=document.createElement("div");t.style.cssText="font-size: 2rem; color: #ffd11a; display: block; margin:auto";document.querySelectorAll(".personal-data");const n=document.getElementById("thanks");e.forEach(e=>{let l=e.querySelector('input[type="checkbox"]');e.addEventListener("submit",r=>{if(r.preventDefault(),"footer_form"===e.id||l.checked||alert("Cогласитесь на обработку данных"),"footer_form"===e.id||l.checked){e.after(t),t.textContent="Идет отправка...";const l=new FormData(e);let c={};l.forEach((e,t)=>{c[t]=e}),[...r.target.elements].forEach(e=>{"input"===e.tagName.toLowerCase()&&(e.value="")}),o(c).then(o=>{if(200!==o.status)throw new Error("Status network is not 200");n.style="display: block",t.textContent="",e.closest(".popup")&&(e.closest(".popup").style="display: none")}).catch(e=>{n.querySelector("p").innerHTML="Извините. \n                        <br> Что-то пошло не так.",n.style="display: block",console.error(e)}).finally(()=>{setTimeout(()=>{n.style="display: none",t.textContent=""},3e3)})}})});const o=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};var c=()=>{const e=document.getElementById("card_order"),t=e.querySelectorAll('input[type="radio"]'),n=e.querySelector(".price-message input"),o=document.getElementById("price-total"),l=[0,3e3,6e3,9e3,12e3];let r=o.textContent;n.addEventListener("input",e=>{let n=e.target;"тело"===n.value&&(console.log(n.value),r=.7*o.textContent,o.textContent=r,t.forEach((e,t,n)=>{e.addEventListener("change",t=>{if(console.log(r),n[4].checked){let n=o.textContent;if(console.log(n),"card_leto_mozaika"===t.target.id)return o.textContent=.7*(r-2e3);o.textContent=.7*+l[e.id.slice(1)]}if(n[5].checked){let n=o.textContent;if("card_leto_schelkovo"===t.target.id)return o.textContent=.7*(+n+2e3);o.textContent=Math.floor(.7*(+l[e.id.slice(1)]+2e3))}})}))}),t.forEach((e,t,n)=>{e.addEventListener("change",t=>{if(console.log(1),n[4].checked){let n=o.textContent;if("card_leto_mozaika"===t.target.id)return o.textContent=n-2e3;o.textContent=+l[e.id.slice(1)]}if(n[5].checked){let n=o.textContent;if("card_leto_schelkovo"===t.target.id)return o.textContent=+n+2e3;o.textContent=+l[e.id.slice(1)]+2e3}})})};var i=()=>{document.querySelectorAll(".popup").forEach(e=>{e.addEventListener("click",t=>{let n=t.target;"gift"===e.id&&n.matches(".overlay, .close-btn, img")&&(console.log(n),e.style="display: none"),n.matches("img, .overlay")&&(e.style="display: none"),"thanks"===e.id&&n.matches("img, .overlay, .close-btn")&&(e.style="display: none")})})};var s=()=>{const e=document.querySelectorAll('input[name = "phone"]'),t=document.querySelectorAll('input[name = "name"]');e.forEach(e=>{maskPhone("#"+e.id)}),t.forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.match(/[А-Яа-я\s]*$/)})})};(()=>{const e=document.querySelector(".head"),t=document.getElementById("callback_form"),n=document.getElementById("free_visit_form"),o=document.getElementById("gift"),l=document.getElementById("totop"),r=document.querySelector(".fixed-gift"),c=document.querySelector("ul");e.addEventListener("click",e=>{let o,l,r;o=l=r=e.target,o=o.closest(".clubs-list"),o&&(c.style.display="block"!==c.style.display?"block":"none"),null===o&&(c.style="display: none"),l=l.closest(".callback-btn"),l&&(t.style="display: flex"),r=r.closest(".free-visit"),r&&(n.style="display: flex;")}),l.style="display: none",window.addEventListener("scroll",()=>{window.pageYOffset>700?l.style="display: block":l.style="display: none"}),r.addEventListener("click",()=>{o.style="display: flex;",r.style="display: none"})})(),i(),l(),r(),o(),c(),s()}]);